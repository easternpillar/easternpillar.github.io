---
title: OS, Network, Database 기초
date: 2023-08-27
categories: [ Computer Science ]
tags: [ interview, cs, os, network, database ]
---

## OS

> 운영체제(Operating System)는 컴퓨팅 하드웨어와 소프트웨어의 중개자 역할을 하는 시스템 소프트웨어이다.

> 커널(kernel)이란 운영체제의 핵심 기능 집합을 말한다.
> linux가 대표적인 커널이며 이를 활용한 다양한 운영체제가 존재한다.
{: .prompt-info }

<br>

### 프로세스 관리

> 프로세스(쓰레드) 관리는 운영체제의 핵심 기능이다.

<br>

### 프로세스

> 메인 메모리에서 실행되고 있는 프로그램을 말한다.

- 프로세스마다 고유한 메모리 영역을 할당받는다.
  - 메모리 영역
    - code: 소스 코드 영역
    - data: 초기화된 정적, 전역 데이터 영역
    - BSS(Block Started by Symbol): 초기화 되지 않은 정적, 전역 데이터 영역
    - stack: 정적으로 사용되는 지역 데이터 영역
    - heap: 동적으로 사용되는 지역 데이터 영역

> 멀티 프로세싱과 멀티태스킹: 멀티 프로세싱은 여러개의 코어에서 여러개의 프로세스가 동시에 실행될 수 있는 것을 말하고,
> 멀티태스킹은 하나의 코어에서 여러 개의 프로세스 또는 쓰레드가 문맥교환을 통해 실행될 수 있다.
{: .prompt-info }

<br>

### 쓰레드

> 프로세스 내의 실행단위를 말하며 공유하는 데이터 영역이 있기 때문에 문맥교환의 비용이 적다.

- 고유한 stack 메모리 영역을 할당받고 나머지 영역은 프로세스 내에서 공유한다.
- 공유 영역이 있으므로 동기화 작업이 요구된다.
- 종류
  - 커널 수준 쓰레드: 커널에서 직접 생명주기를 관리하는 쓰레드로 쓰레드간 문맥교환이 가능하다.
  - 유저 수준 쓰레드: 유저 레벨에서 커널 수준 쓰레드를 모방하여 만든 쓰레드이며 커널이 관리하고 있지 않기 때문에 코어에서의 문맥교환이 불가능하다.

> Spring 기반 비동기 프로그래밍 방식에서 사용되는 이벤트 루프 모델은 일반적으로 코어 개수만큼 커널 쓰레드를 생성하고
> 유저 레벨 쓰레드를 통해 실제 로직을 비동기 넌블러킹 방식으로 실행한다.
{: .prompt-info }

<br>

### CPU 스케줄링

> 프로세스가 CPU에 할당되어 처리되는 순서를 결정하는 작업을 말한다.

- 종류
  - 선점형(Preemption): 코어에서 실행되고 있는 프로세스를 할당 해제할 수 있다.
  - 비선점형(No Preemption): 코어에서 실행되고 있는 프로세스를 할당 해제할 수 없다.

> 스케쥴링 알고리즘에 따라 장기간 코어에서 실행되지 못하는 starvation이 발생할 수 있다.
{: .prompt-info }

<br>

### 인터럽트(Interrupt)

> CPU가 프로그램을 실행하는 도중에 예외 상황이 발생했을 때 또는 특정 작업이 완료되었을 때 처리를 중단하고 해당 상황을 먼저 처리하도록 하는 신호

- 종류
  - 하드웨어 인터럽트: 외부 장치의 이벤트 처리를 위한 인터럽트
  - 소프트웨어 인터럽트: 시스템 콜 또는 예외 처리를 위한 인터럽트
  - 타이머 인터럽트: 일정 시간이 경과하여 발생하는 인터럽트
  - IO 인터럽트: 입출력 장치 작업의 완료를 알리는 인터럽트

<br>

### 동기화

> 공유 데이터에 대한 무분별한 접근은 데이터의 일관성을 저해하기 때문에 동기화가 필요하다.

- 동기와 비동기
  - 동기: 작업 요청 후 작업 완료를 대기
  - 비동기: 작업 요청 후 작업 완료를 대기하지 않음
- 블로킹 IO와 넌블로킹 IO
  - 블로킹 IO: IO 작업 중에 다른 작업 불가
  - 넌블로킹 IO: IO 작업 중에 다른 작업 가능

<br>

### 교착상태(Deadlock)

> 여러 프로세스나 스레드가 서로가 가지고 있는 자원을 기다리며 무한히 대기하는 상황을 말한다.

- 교착상태의 4가지 조건
  - 상호 배제(Mutual Exclusion): 자원의 점유는 하나의 주체에게만 가능
  - 점유와 대기(Hold and Wait): 자원을 점유한 상태로 다른 자원의 할당을 기다리는 상태
  - 비선점(No Preemption): 할당된 자원을 임의로 해제할 수 없는 상태
  - 순환 대기(Circular Wait): 사이클을 형성하며 자원을 점유하고 자원의 할당 해제를 기다리는 상태
- 교착상태 해결방법
  - 예방(Prevention): 4가지 조건중 하나를 해소하는 방법
  - 회피(Avoidance): 은행원 알고리즘을 통해 안전한 상태를 점검하며 자원 할당/해제
  - 탐지(Detection): 주기적으로 교착상태를 탐지하고 교착상태를 유발한 프로세스 종료 또는 자원 해제
  - 무시(Ignorance): 교착상태 발생을 방치

<br>

### 임계 구역(Critical Section)

> 여러 쓰레드나 프로세스가 동시에 접근해서는 안 되는 공유 자원을 접근하는 코드 영역을 말한다.

- 임계 구역의 3가지 조건
  - 상호 배제(Mutual Exclusion)
  - 진행(Progress): 임계 구역에 진입한 쓰레드 또는 프로세스가 없는 경우, 임계 구역에 진입할 수 있어야 한다.
  - 한정 대기(Bounded Waiting): 임계구역에 접근을 시도한 프로세스는 유한한 시간 내에 접근해야 한다.

<br>

### 메모리 관리

> 응용 프로그램의 크기에 비해 주기억장치의 크기가 작은 경우가 대부분이고 이러한 경우 프로그램을 메모리에 모두 적재할 수 없다. 때문에 적절한 메모리 관리 전략이 필요하며 운영체제가 이를 수행한다.

- 기억장치 종류: 아래에 기술된 메모리일수록 더 저렴하고 느리다.
  - 레지스터: CPU 내부에 존재
  - 캐시: CPU와 메모리 사이에 존재
  - 메모리: 주기억장치
  - 보조기억장치: 하드디스크, SSD등의 비휘발성 저장장치
  - 외부기억장치: USB, 외장 하드디스크와 같이 외부 연결 저장 매체

> 캐시 메모리는 지역성의 개념을 띈다.
> - 시간적 지역성(Temporal Locality): 한 번 접근한 데이터나 명령어가 다시 접근될 가능성이 높다는 원칙
> - 공간적 지역성(Spatial Locality): 한 번 접근한 데이터나 명령어 근처의 데이터나 명령어에 접근할 가능성이 높다는 원칙
{: .prompt-info }

<br>

### 페이징(Paging)과 가상 메모리

> 물리적 메모리를 일정한 크기의 블록으로 나누고 가상 메모리의 페이지와 매핑하는 메모리 관리 방식

- MMU(Memory Management Unit): 논리 메모리 주소와 물리 메모리 주소간의 매핑을 하는 운영체제 내부 요소
- 내부 단편화: 메모리에서 활용할 수 없는 공간의 발생을 말하며 블록 페이징의 경우, 블록 내부에 발생한다.
- Demand Paging: 필요한 페이지만 메모리에 할당한다.
- Swap Space: 보조기억장치에 존재하는 공간으로 메모리에 할당하여 사용하지 않는 페이지를 저장한다.

> 세그멘테이션은 동적인 길이로 메모리를 분할하며 이로 인해 세그멘테이션 외부에 단편화가 발생한다.
{: .prompt-info }

<br>

### 입출력 장치 관리

> 운영체제는 입출력 장치를 포함한 하드웨어와 응용 프로그램과 같은 소프트웨어의 중개자 역할을 한다.

- 장치 드라이버: 운영체제가 입출력 장치를 이해하기 위한 소프트웨어
- 장치 컨트롤러: 입출력장치가 명령을 저장하고 수행하기 위한 하드웨어
- 입출력 수행 방식
  - Pollong: 운영체제가 IO작업이 완료되었는지 지속적으로 확인하는 방식
  - Interrupt: 입출력장치가 IO작업이 완료되면 운영체제에게 Interrupt하는 방식

<br>

## Network

<br>

### OSI 7계층

1. 물리: **비트** 단위의 데이터를 전기적, 기계적, 기능적으로 전송
2. 데이터링크: 물리 계층을 통해 송수신되는 데이터의 오류와 흐름을 관리하여 **프레임** 전달
3. 네트워크: 다른 네트워크와 통신하기 위한 경로를 선택하고, **패킷**을 전달
4. 전송: **세그먼트(데이터그램)** 의 흐름을 관리
   - 흐름 제어(Flow Control): 데이터의 안정적인 전송을 위한 것으로 데이터가 소실되지 않고 잘 전달되는 것을 보장
     - 종류
       1. Stop-and-Wait: 하나의 데이터 단위씩 전달을 확인하며 순차적으로 전송
       2. Sliding Window: 윈도우 크기만큼 데이터를 연속적으로 보내며 응답에 따라 윈도우을 이동
   - 혼잡 제어(Congestion Control): 네트워크 계층과 함께 네트워크 트래픽을 관리
     - 종류
       1. Slow Start: 처음에는 작은 양의 데이터를 보내고, 네트워크의 반응을 보며 데이터의 양을 배로 증가
       2. Congestion Avoidance: 혼잡이 감지되면 데이터 전송 속도를 줄여 혼잡을 회피
       3. Fast Retransmit: 3개의 중복 ACK을 수신하면 패킷 손실을 가정하고 Timeout과 관계없이 손실된 패킷만 빠르게 재전송
       4. Fast Recovery: 패킷 손실 후 빠르게 회복하여 데이터 전송을 재개
5. 세션: 세션을 생성, 유지, 종료
6. 표현: 데이터 형식을 변환하고 암호화/복호화를 수행
7. 응용: 응용 프로그램과 네트워크 사이의 통신

> 각 계층별 주소 및 데이터 식별자
> 1. 물리: MAC / 비트
> 2. 데이터링크: MAC / 프레임
> 3. 네트워크: IP / 패킷
> 4. 전송: Port / 세그먼트(데이터그램)
> 5. 세션: 세션 ID / 데이터 
> 6. 표현: 없음 / 데이터
> 7. 응용: URL / 메시지
{: .prompt-info }

> TCP/IP 4계층은 OSI 7계층 중
> 1. 물리, 데이터링크 계층을 네트워크 액세스 계층으로
> 2. 네트워크 계층을 인터넷 계층으로
> 3. 전송 계층을 전송계층으로
> 4. 세션, 표현, 응용 계층을 응용계층으로
> 통합하여 관리한다.
{: .prompt-info }

<br>

## Database

> 데이터베이스는 데이터 관리의 복잡성과 일관성, 무결성의 문제, 조회의 효율과 보안을 위해 등장한 데이터 관리 도구이다.

- 무결성(Integrity)
  - 도메인 무결성 (Domain Integrity) 각 필드의 값이 정의된 도메인(유효한 값의 집합)에 속해야 한다.
  - 참조 무결성 (Referential Integrity) 외래 키를 통해 다른 테이블과 관계를 맺을 때, 참조 대상이 항상 존재해야 한다.
  - 엔터티 무결성 (Entity Integrity): 모든 테이블은 기본 키를 가지고, 이 기본 키는 고유한 값을 가져야 한다.

<br>

### 정규화

> 데이터베이스 설계에서 중복을 최소화하고 데이터를 구조화하는 과정으로 데이터의 무결성과 일관성을 유지하고 쿼리 성능을 향상시키기 위해 진행한다.

- 단계
  1. 제1정규형: 모든 컬럼이 원자 값(Atomic Value)을 가져야 하며, 각 레코드는 유일한 키에 의해 식별
  2. 제2정규형: 제1정규형을 만족하고, 부분 함수 종속성(Partial Functional Dependency)을 제거
  3. 제3정규형: 제2정규형을 만족하고, 이행 함수 종속성(Transitive Functional Dependency)을 제거
  4. BCNF(Boyce-Codd Normal Form): 제3정규형을 만족하고, 모든 결정자가 후보 키(Candidate Key) 집합에 포함

> 쿼리 성능 향상, 데이터 조회 속도 향상, 복잡성 감소 목적으로 중복을 일부러 허용하는 작업을 반정규화(Denormalization)라고 한다.
{: .prompt-tip }

> 중복으로 인해 발생하는 이상(Anomaly)의 종류
> - 삽입 이상: 새로운 데이터 입력 시 불필요한 데이터가 함께 삽입되는 이상
> - 삭제 이상: 데이터 삭제 시 의도치 않은 데이터가 함께 삭제되는 이상
> - 갱신 이상: 데이터 갱신 시 중복된 데이터로 인해 일관성으로 저해되는 이상
{: .prompt-info }

<br>

### 트랜잭션(Transaction)

> 데이터베이스에서 하나의 논리적인 작업 단위

- ACID 속성
  - Atomicity: 트랜잭션 내의 모든 연산은 모두 성공하거나, 하나라도 실패하면 모든 연산이 취소되어야 한다.
  - Consistency: 트랜잭션이 성공적으로 완료된 후에도 데이터베이스는 일관된 상태를 유지해야 한다.
  - Isolation: 동시에 여러 트랜잭션이 실행되더라도, 각 트랜잭션은 서로에게 영향을 주지 않아야 한다.
  - Durability: 트랜잭션이 성공적으로 완료된 후, 그 결과는 영구적으로 반영되어야 한다.
- 트랜잭션 상태
  - Active: 트랜잭션이 실행 중인 상태
  - Partially Committed: 트랜잭션의 마지막 연산까지 성공적으로 수행되었지만, 아직 커밋되지 않은 상태
  - Committed: 트랜잭션이 성공적으로 커밋된 상태
  - Failed: 트랜잭션 중 하나 이상의 연산이 실패하여 롤백이 필요한 상태
  - Aborted: 트랜잭션이 실패하여 롤백된 상태
- 격리 수준(Isolation Levels)
  - Read Uncommitted: 가장 낮은 수준의 격리로, 다른 트랜잭션에서 커밋되지 않은 데이터 조회 가능
  - Read Committed: 커밋된 데이터만 읽을 수 있으며, 다른 트랜잭션에서 변경 중인 데이터 조회 불가
  - Repeatable Read: 트랜잭션 동안 같은 쿼리의 결과가 항상 동일하게 유지되며 새로운 레코드의 삽입 허용
  - Serializable: 가장 높은 수준의 격리로, 트랜잭션을 순차적으로 실행하여 완전한 격리를 보장
- 락(Lock)
  - 공유 락: 여러 트랜잭션이 동시에 데이터를 조회하도록 허용
  - 배타 락: 여러 트랜잭션이 동시에 데이터를 조회할 수 없음

<br>

### 인덱스(Index)

> 데이터베이스에서 데이터 검색 속도를 향상시키기 위한 자료 구조

> 인덱스의 대표적인 자료구조로는 해시와 B트리가 있다.
> 해시는 범위 검색이나 정렬에 비효율적이므로 RDBMS에서는 일반적으로 B트리 구조를 따르고 NoSQL에서는 해시를 사용한다.
{: .prompt-info }

<br>

### NoSQL(Not only SQL)

> 대규모 데이터와 분산된 환경에 적합하며, 스키마가 고정되지 않은 유연한 데이터 모델을 가지는 데이터베이스

- CAP 이론: 분산 시스템은 다음 세가지 속성 중 두가지만 충족 가능하다.
  - 일관성(Consistency): 모든 노드가 일관된 데이터를 저장
  - 가용성(Availability): 모든 요청이 처리 가능
  - 분할 내성(Partition Tolerance): 네트워크 분할이 발생해도 시스템이 정상 작동
- BASE 속성: CAP 이론의 제약을 완화하고 더 유연한 동작을 위한 속성
  - 기본적으로 일관성 있음(Basically Available): 시스템은 기본적으로 가용
  - 부분적으로 허용(Soft state): 시스템의 상태는 시간과 상황에 따라 변함
  - 최종적으로 일관성 있음(Eventually Consistent): 시간이 지나면 모든 노드가 일관된 상태가 됨
